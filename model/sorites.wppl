// to run:
// export NODE_PATH=/usr/local/lib/node_modules
// node --max-old-space-size=8192 ~/cocolab/webppl/webppl sorites.wppl --require-js ./simpleCSV.js 
// cat *.csv all_model_output.csv

var alpha = 1; //NOT IMPLEMENTED YET!!!
var utterance_cost = 1;

var priors = {
	"v3":{"laptop":{"y":[0,0.000174931404685861,0.0048677430223187,0.00931832793548849,0.0135165606981866,0.0174523158644045,0.0211154679881335,0.0244959371120895,0.0275912505437278,0.0304135316670795,0.0329764872612892,0.0352938241055012,0.0373792489788601,0.0392464686605103,0.0409091899295963,0.0423811195652624,0.0435490148743835,0.0443260374531482,0.0447655005146725,0.0449207172720723,0.0448450009384634,0.0445916647269616,0.0442140218506829,0.043765385522743,0.0431713529640482,0.0421041331240159,0.0406571323649937,0.0389570449558213,0.037130565165338,0.0353043872623833,0.0336052055157967,0.0321597141944178,0.0310684322286198,0.030080976076103,0.0291043436172123,0.0281410344833865,0.0271935483060642,0.026264384716684,0.0253560433466845,0.0244710238275043,0.0236118257905822,0.0227776457912569,0.0219649358722216,0.0211720788959459,0.0203974577248996,0.0196394552215523,0.0188964542483738,0.0181668376678338,0.017448988342402,0.0167434703769265,0.0160560483240482,0.0153862707800079,0.0147331527365492,0.014095709185416,0.0134729551183519,0.0128639055271008,0.0122675754034064,0.0116830783971941,0.0111110678090528,0.010552064989963,0.010006285596299,0.00947394528443503,0.00895525971074561,0.00845044453160504,0.00795971540338769,0.00748328798246792],"x":[0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1230,1260,1290,1320,1350,1380,1410,1440,1470,1500,1530,1560,1590,1620,1650,1680,1710,1740,1770,1800,1830,1860,1890,1920,1950]},"watch":{"y":[0,0.0270113361945987,0.0333427367772173,0.026197037866136],"x":[0,35,70,105]},"coffee maker":{"y":[0.00367842892756084,0.0098162405675709,0.0155417354625248,0.0208303184228696,0.0256573942590521,0.0299983677815193,0.0338360394318033,0.037190703238091,0.0400945063793479,0.0425796006460821,0.0446781378288017,0.0464222697180151,0.0477563682454841,0.0483624685516531,0.0483420074325831,0.0478495450499141,0.0470396415652866,0.0460668571403408,0.0450633971222009,0.0435898075808372,0.0415815341166125,0.0392540057960666,0.0368226516857392,0.0345029008521701,0.0325101823618989,0.0307591932172267,0.0288925316894513,0.0269644478984453,0.0250351373704963,0.0231647956318916,0.0214136182089189,0.0198072654023607,0.0182077481357311,0.0166230375784252,0.0150887162102395,0.0136403665109704,0.0123135709604146,0.0111419874435259,0.010073284284743,0.00907463770990365,0.00815297993048782,0.00731524315797532,0.006568359603846,0.00591926147957967,0.00537005618199869,0.00491393937203506,0.00454936249221617,0.00427495067977193,0.00408932907193222,0.00399112280592693],"x":[0,3.15,6.3,9.45,12.6,15.75,18.9,22.05,25.2,28.35,31.5,34.65,37.8,40.95,44.1,47.25,50.4,53.55,56.7,59.85,63,66.15,69.3,72.45,75.6,78.75,81.9,85.05,88.2,91.35,94.5,97.65,100.8,103.95,107.1,110.25,113.4,116.55,119.7,122.85,126,129.15,132.3,135.45,138.6,141.75,144.9,148.05,151.2,154.35]},"sweater":{"y":[7.90757935648827e-06,0.00634584775094106,0.0122723057852555,0.0177787273464603,0.022856558098716,0.0274972021597943,0.0316918371977625,0.0354477357953391,0.0387783445602764,0.0416971101003267,0.0442174790232425,0.046352897936776,0.0480416118567463,0.0492356393460171,0.0499791257323789,0.0503162511165835,0.0502911955993825,0.0499481392815275,0.0490512169875856,0.0473090811094136,0.0449991095281965,0.042407281607039,0.0398195767090462,0.0375219741973229,0.0354698336930488,0.0330426008813161,0.0303742926697031,0.0276407470958458,0.0250178021973802,0.0226812960119425,0.0207033978640948,0.0187877424073679,0.0169238263313242,0.0151390082519123,0.013460646785081,0.011916100546779,0.0105221504505338,0.00923102980442859,0.00803535489367753,0.00693816443357026,0.0059424971393965,0.0050513917264459,0.00426745158559023,0.00358787951493073,0.00301109698592829,0.00253657892972602,0.00216380027746705,0.00189223596029449],"x":[0,2.45,4.9,7.35,9.8,12.25,14.7,17.15,19.6,22.05,24.5,26.95,29.4,31.85,34.3,36.75,39.2,41.65,44.1,46.55,49,51.45,53.9,56.35,58.8,61.25,63.7,66.15,68.6,71.05,73.5,75.95,78.4,80.85,83.3,85.75,88.2,90.65,93.1,95.55,98,100.45,102.9,105.35,107.8,110.25,112.7,115.15]},"headphones":{"y":[0.030417068850497,0.0328280085753792,0.035049805120953,0.0370629789453363,0.0388480505066471,0.0403855402630032,0.0416559686725227,0.0426461995086811,0.0433724416048931,0.04385932761126,0.0441314897340333,0.0442135601794646,0.0441301711538052,0.0439059548633067,0.0435338311345436,0.0426518234798265,0.0412641827240352,0.0395159687983975,0.0375522416341412,0.0355180611624943,0.0335584873146844,0.0318185800219395,0.0302767783073918,0.0286090157446952,0.026860927875863,0.0250990686720773,0.0233899921045202,0.0218002521443736,0.0203964027628197,0.0192439274203171,0.018319210005212,0.0175598861963323,0.0169321023209625,0.0164020047063872,0.015935739679891,0.0154994535687584,0.0150592927002739,0.0146114767849819,0.0142741255026036,0.0140347315738044,0.0138597182865868,0.0137155089289535,0.013568526788907,0.0133851951544497,0.0131319373135843,0.0128393525809617,0.0125701145048693,0.0123195545066267,0.0120828337415829,0.0118551133650871,0.0116315545324884,0.0114073183991358,0.0111782435332179,0.0109491112056823,0.0107226861484554,0.0104998855193017,0.0102816264759857,0.0100688261762719,0.00986240177792484,0.00966327043870897],"x":[0,3.95,7.9,11.85,15.8,19.75,23.7,27.65,31.6,35.55,39.5,43.45,47.4,51.35,55.3,59.25,63.2,67.15,71.1,75.05,79,82.95,86.9,90.85,94.8,98.75,102.7,106.65,110.6,114.55,118.5,122.45,126.4,130.35,134.3,138.25,142.2,146.15,150.1,154.05,158,161.95,165.9,169.85,173.8,177.75,181.7,185.65,189.6,193.55,197.5,201.45,205.4,209.35,213.3,217.25,221.2,225.15,229.1,233.05]}},
	"v4":{"laptop":{"y":[0.00280599035687211,0.00527054170500921,0.00764318377255315,0.00992344412313242,0.0121108503203755,0.0142049299279109,0.0162052105093672,0.0181112196283727,0.019922484848556,0.0216385337335456,0.0232588938469699,0.0247804807076041,0.0262017425449201,0.0275245059885914,0.0287505976682917,0.0298818442136946,0.0309200722544738,0.0318671084203029,0.0327247793408556,0.0334949116458054,0.034179331964826,0.0347668997742544,0.0352481324111619,0.0356273432963234,0.0359088458505139,0.0360969534945086,0.0361959796490824,0.0362102377350104,0.0361440411730675,0.0360017033840289,0.0357875377886696,0.035396775234991,0.0347553968480575,0.0339138414642382,0.0329225479199025,0.0318319550514194,0.0306925016951582,0.0295546266874882,0.0284687688647785,0.0274853670633983,0.026654860119717,0.0258652180736,0.024984464934489,0.0240331204931168,0.0230317045402161,0.02200073686652,0.0209607372627612,0.0199322255196727,0.0189357214279872,0.0179917447784377,0.017120815361757,0.0163434529686779,0.015675354006767,0.0150670038549893,0.0144967211757765,0.013960285556575,0.0134534765848315,0.0129720738479924,0.0125118569335043,0.0120686054288137,0.0116380989213672,0.0112161169986113,0.0107998974479753,0.0104050429700603,0.010035873806556,0.00969109402756666,0.00936940770319643,0.00906951890354949,0.00879013169873001,0.00852995015884219,0.00828767835399019,0.00806202035427818,0.00785182048025194,0.00765811645156431,0.0074817683207358,0.00732320273697258,0.0071828463494808,0.00706112580746664,0.00695846776013625,0.00687529885669579,0.00681204574635144,0.00676913507830934],"x":[0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1230,1260,1290,1320,1350,1380,1410,1440,1470,1500,1530,1560,1590,1620,1650,1680,1710,1740,1770,1800,1830,1860,1890,1920,1950,1980,2010,2040,2070,2100,2130,2160,2190,2220,2250,2280,2310,2340,2370,2400,2430]},"watch":{"y":[0.0692486782248829,0.0666647264236509,0.0641324339783697,0.0616514472941705,0.0592214127761848,0.0568419768295438,0.0545127858593789,0.0522334862708215,0.0500037244690028,0.0478231468590543,0.0456913998461072,0.0436076393808508,0.0415717246352648,0.0395843568464165,0.0376462372513729,0.0357580670872011,0.0339205475909684,0.0321343799997418,0.0304002655505885,0.0287189054805756,0.0270910010267703,0.0255121233142991,0.0239788852018512,0.0224935505268374,0.0210583831266687,0.019675646838756,0.0183476055005101,0.0170765229493421,0.0158646630226627,0.014714289557883,0.0136276663924138,0.0126070573636661,0.011659919319143,0.0108065276797918,0.0100386852468383,0.00934485116056208,0.00871348456124288,0.00813304458916025,0.00759199038459384,0.00707878108782325,0.00658187583912811,0.00608973377878805,0.00560872599785276,0.00520879943409021,0.00488793406205889,0.00463401686912395,0.00443493484265057,0.00427857497000391,0.00415282423854914,0.00404556963565141,0.00394469814867592,0.0038380967649878,0.00371365247195225,0.00355998219699167,0.00341118924619253,0.0032882511616208,0.00318681825434706,0.00310254083544188,0.00303106921597584,0.00296805370701951,0.00290914461964345,0.00284999226491825,0.00278624695391447,0.00271381088169289,0.00264448956719708,0.00258618697942047,0.002538183798725,0.00249976070547264,0.00247019838002534,0.00244877750274504,0.00243477875399371,0.00242748281413328,0.00242617036352572,0.00243012208253298,0.002438618651517,0.00245136321332371,0.00246929922566883,0.00249277542444248,0.00252208675100672,0.00255752814672364,0.0025993945529553,0.00264798091106378,0.00270358216241115,0.00276649324835948,0.00283700911027085],"x":[0,35,70,105,140,175,210,245,280,315,350,385,420,455,490,525,560,595,630,665,700,735,770,805,840,875,910,945,980,1015,1050,1085,1120,1155,1190,1225,1260,1295,1330,1365,1400,1435,1470,1505,1540,1575,1610,1645,1680,1715,1750,1785,1820,1855,1890,1925,1960,1995,2030,2065,2100,2135,2170,2205,2240,2275,2310,2345,2380,2415,2450,2485,2520,2555,2590,2625,2660,2695,2730,2765,2800,2835,2870,2905,2940]},"coffee maker":{"y":[0.000711533433708591,0.00302217602504108,0.00524164839617059,0.0073682463330439,0.00940026562160782,0.0113360020478091,0.0131737513975946,0.0149118094569111,0.0165484720117054,0.0180820348479242,0.0195107937515144,0.0208304482074659,0.0220383295285563,0.0231391330413823,0.0241376738765862,0.0250387671648101,0.025847228036696,0.0265678716228862,0.0272055130540228,0.0277649674607478,0.0282510499737036,0.0286427550599291,0.0288711874336408,0.0289475262450695,0.028888740659418,0.0287117998418889,0.0284336729576851,0.0280713291720093,0.027641737650064,0.0271618675570522,0.0266486880581764,0.0261191683186394,0.0255809674333407,0.0248612810413453,0.0239288180782666,0.0228359027576654,0.0216348592931023,0.020378011898138,0.0191176847863332,0.0179062021712486,0.0167958882664448,0.0158390672854826,0.0150870348763346,0.0144486824771964,0.0138381921022404,0.0132554147684044,0.012700201492626,0.0121724032918431,0.0116718711829933,0.0111984561830145,0.0107520093088443,0.0103323815774206,0.00993942400568098,0.00957298761056329,0.00923994452575024,0.00895849940423154,0.00872079275618828,0.00851703121288055,0.00833742140556843,0.00817216996551201,0.00801148352397137,0.0078455687122066,0.00766463216147778,0.00745888050304499,0.00722610595736544,0.00700359427834033,0.0067962181256852,0.00660204862864393,0.0064191569164604,0.00624561411837849,0.0060794913636421,0.00591885978149509,0.00576179050118136,0.00560635465194478,0.00545062336302924,0.0052926792557226,0.00513321410415151,0.00497418739442151,0.00481639749726794,0.00466064278342611,0.00450772162363137,0.00435843238861902,0.00421357344912441,0.00407394317588285,0.00394033993962969,0.00381356211110023],"x":[0,3.15,6.3,9.45,12.6,15.75,18.9,22.05,25.2,28.35,31.5,34.65,37.8,40.95,44.1,47.25,50.4,53.55,56.7,59.85,63,66.15,69.3,72.45,75.6,78.75,81.9,85.05,88.2,91.35,94.5,97.65,100.8,103.95,107.1,110.25,113.4,116.55,119.7,122.85,126,129.15,132.3,135.45,138.6,141.75,144.9,148.05,151.2,154.35,157.5,160.65,163.8,166.95,170.1,173.25,176.4,179.55,182.7,185.85,189,192.15,195.3,198.45,201.6,204.75,207.9,211.05,214.2,217.35,220.5,223.65,226.8,229.95,233.1,236.25,239.4,242.55,245.7,248.85,252,255.15,258.3,261.45,264.6,267.75]},"sweater":{"y":[0.0111059254479662,0.0123816529609671,0.0136060113838507,0.0147771842008391,0.0158933548961543,0.0169527069540185,0.0179534238586538,0.0188936890942823,0.0197716861451261,0.0205855984954073,0.021333609629348,0.0220139030311704,0.022624907184104,0.0231682317425019,0.0236468991891929,0.0240639322365869,0.0244223535970939,0.0247251859831238,0.0249754521070866,0.0251761746813921,0.0253303764184503,0.025441080030671,0.0255113082304643,0.0255440837302401,0.0255069162978484,0.0253202647888669,0.0250000122862521,0.0245668804349,0.0240415908797063,0.0234448652655671,0.0227974252373783,0.0221199924400356,0.0214332885184351,0.0207580351174726,0.020114953882044,0.0195247664570452,0.0189927356576737,0.0184380463866425,0.0178519949194003,0.0172420776621229,0.0166157910209864,0.015980631402167,0.0153440952118405,0.014713678856183,0.0140968787413706,0.0135011912735792,0.012934112858985,0.0124031399037639,0.0119140020352176,0.0114327237293501,0.0109460869321192,0.010457258855408,0.00996940671109978,0.00948569771107786,0.00900929906722546,0.00854337799142583,0.00809110169556223,0.00765563739151791,0.00724015229117611,0.0068478136064201,0.00648178854913313,0.00613810132550667,0.0058101930534142,0.00549735631226192,0.00519888368145603,0.00491406774040275,0.00464220106850828,0.00438257624517883,0.00413448584982061,0.00389722246183983,0.00367007866064269,0.00345234702563541,0.00324332013622419,0.00304388952679277,0.0028574264248209,0.00268384897109621,0.00252291173628908,0.00237436929106988,0.00223797620610898,0.00211348705207675,0.00200065639964357,0.0018992388194798,0.00180898888225582,0.00172966115864199,0.0016610102193087,0.00160284509959643,0.00155535926700892,0.00151867341797736,0.00149287121237865,0.00147803631008972,0.00147425237098749,0.00148160305494886,0.00150017202185077,0.00153004293157012,0.00157129944398384,0.00162402521896884,0.00168830391640205],"x":[0,2.45,4.9,7.35,9.8,12.25,14.7,17.15,19.6,22.05,24.5,26.95,29.4,31.85,34.3,36.75,39.2,41.65,44.1,46.55,49,51.45,53.9,56.35,58.8,61.25,63.7,66.15,68.6,71.05,73.5,75.95,78.4,80.85,83.3,85.75,88.2,90.65,93.1,95.55,98,100.45,102.9,105.35,107.8,110.25,112.7,115.15,117.6,120.05,122.5,124.95,127.4,129.85,132.3,134.75,137.2,139.65,142.1,144.55,147,149.45,151.9,154.35,156.8,159.25,161.7,164.15,166.6,169.05,171.5,173.95,176.4,178.85,181.3,183.75,186.2,188.65,191.1,193.55,196,198.45,200.9,203.35,205.8,208.25,210.7,213.15,215.6,218.05,220.5,222.95,225.4,227.85,230.3,232.75,235.2]},"headphones":{"y":[0.0260936057399143,0.0268782093621136,0.0276135448348115,0.0282966355736355,0.0289245049942128,0.0294941765121707,0.0300026735431366,0.0304470195027378,0.0308242378066016,0.0311313518703552,0.031366037743255,0.0315306283971367,0.0316294127366637,0.0316666846048359,0.0316467378446531,0.0315738662991152,0.0314523638112219,0.0312865242239731,0.0310806413803685,0.030839009123408,0.0305603301963615,0.0301358719856772,0.0295462098317506,0.0288231314668936,0.0279984246234184,0.0271038770336368,0.0261712764298609,0.0252324105444027,0.024319067109574,0.023463033857687,0.0226960985210535,0.0220224007138028,0.0213558638324619,0.0206908262330866,0.0200313229731193,0.0193813891100027,0.0187450597011794,0.018126369804092,0.0175293544761831,0.0169580487748953,0.0164164877576711,0.0159087064819532,0.0154318380087102,0.0149785585282085,0.0145466708205555,0.0141339786339008,0.0137382857163943,0.0133573958161859,0.0129891126814252,0.0126312400602621,0.0122815817008464,0.0119379413513279,0.0116002722399879,0.0112899841725585,0.0110079488253195,0.0107476034585334,0.0105023853324626,0.0102657317073696,0.0100310798435167,0.00979186700116657,0.00954153044058152,0.00927350742202402,0.00898123520575654,0.00866891761644479,0.00836150437528987,0.00805907243625262,0.00776016081145905,0.00746330851303513,0.00716705455310689,0.00686993794380032,0.00657049769724141,0.00626727282555617,0.00595880234087059,0.00564362914700458,0.00532133494766132,0.0049929073970021,0.00465924972458813,0.00432126515998062,0.00397985693274077,0.00363592827242978,0.00329038240860887,0.00294412257083922,0.00259805198868205],"x":[0,3.95,7.9,11.85,15.8,19.75,23.7,27.65,31.6,35.55,39.5,43.45,47.4,51.35,55.3,59.25,63.2,67.15,71.1,75.05,79,82.95,86.9,90.85,94.8,98.75,102.7,106.65,110.6,114.55,118.5,122.45,126.4,130.35,134.3,138.25,142.2,146.15,150.1,154.05,158,161.95,165.9,169.85,173.8,177.75,181.7,185.65,189.6,193.55,197.5,201.45,205.4,209.35,213.3,217.25,221.2,225.15,229.1,233.05,237,240.95,244.9,248.85,252.8,256.75,260.7,264.65,268.6,272.55,276.5,280.45,284.4,288.35,292.3,296.25,300.2,304.15,308.1,312.05,316,319.95,323.9]}},
	"v6":{"laptop":{"y":[0.00508169517225426,0.00786476850008152,0.0105337270306167,0.0130868632944995,0.0155224698223694,0.017838839144866,0.0200342637926289,0.0221070362962977,0.0240554491865121,0.0258777949939115,0.0275723662491355,0.0291341733401956,0.0305628444538489,0.0318635988188539,0.0330416556639692,0.0341022342179533,0.0350505537095646,0.0358918333675615,0.0366312924207028,0.0372741500977467,0.0378256256274519,0.0382206751796959,0.0384079386533912,0.0384131608708482,0.0382620866543774,0.0379804608262892,0.037594028208894,0.0371285336245024,0.0366097218954248,0.0360633378439715,0.0355151262924532,0.0348449437975396,0.0339477273132815,0.0328718422580613,0.0316656540502609,0.0303775281082626,0.0290558298504484,0.0277489246952006,0.0265051780609012,0.0253729553659324,0.0244006220286764,0.0234895185633151,0.0225194705401807,0.0215065709618808,0.0204669128310232,0.0194165891502154,0.0183716929220651,0.0173483171491798,0.0163625548341673,0.0154304989796351,0.0145682425881909,0.0137918786624423,0.013114347341519,0.0125038858600444,0.011942511570554,0.0114231361438019,0.0109386712505425,0.01048202856153,0.0100461197475186,0.00962385647926267,0.00920815042751638,0.00879191326303401,0.00837026738117666,0.0079666891277818,0.00758863699451288,0.00723518288840449,0.00690539871649124,0.00659835638580772,0.00631312780338855,0.00604878487626831,0.00580439951148161,0.00557904361606304,0.00537177737565707,0.0051819173696183,0.00500972940189545,0.00485562542459581,0.00472001738982664,0.00460331724969524,0.00450593695630888,0.00442828846177485,0.00437078371820042,0.00433383467769289],"x":[0,30,60,90,120,150,180,210,240,270,300,330,360,390,420,450,480,510,540,570,600,630,660,690,720,750,780,810,840,870,900,930,960,990,1020,1050,1080,1110,1140,1170,1200,1230,1260,1290,1320,1350,1380,1410,1440,1470,1500,1530,1560,1590,1620,1650,1680,1710,1740,1770,1800,1830,1860,1890,1920,1950,1980,2010,2040,2070,2100,2130,2160,2190,2220,2250,2280,2310,2340,2370,2400,2430]},"watch":{"y":[0.0767745624961718,0.0726955472405775,0.0687348067052949,0.0648951376863947,0.0611793369799476,0.0575902013820242,0.0541305276886951,0.050803112696031,0.0476107532001025,0.0445562459969803,0.041642387882735,0.0388750263204765,0.0362534805384051,0.0337707549802271,0.0314198540896491,0.0291937823103774,0.0270855440861184,0.0250881438605785,0.0231945860774641,0.0213978751804817,0.0196910156133377,0.0181676742691498,0.0169035915652091,0.0158648822314816,0.0150176609979334,0.0143280425945305,0.0137621417512389,0.0132860731980249,0.0128659516648543,0.0124678918816934,0.0120580085785081,0.0116024164852645,0.0111015911825442,0.010685157825606,0.0103544320786104,0.0100919028784798,0.00988005916213682,0.00970138986650384,0.00953838392850341,0.00937353028505804,0.00918931787309024,0.00896823562952249,0.00870829847405753,0.00846861289872789,0.00825401586463328,0.0080610409041552,0.00788622154967516,0.00772609133357468,0.00757718378823527,0.00743603244603843,0.00729917083936568,0.00716313250059853,0.00702445096211849,0.00687981513405011,0.00673604737572919,0.00659854329381982,0.0064675609625898,0.00634335845630689,0.00622619384923888,0.00611632521565355,0.00601401062981868,0.00591950816600205,0.00583307589847144,0.00575495718835552,0.00568448911030271,0.00562130533872234,0.00556555600333177,0.00551739123384836,0.00547696115998947,0.00544441591147245,0.00541990561801467,0.00540358040933349,0.00539559041514627,0.00539608576517036,0.00540521658912313,0.00542305167024468,0.00544940624315827,0.00548419513147197,0.00552734310815195,0.00557877494616441,0.00563841541847552,0.00570618929805146,0.00578202135785842,0.00586583637086258,0.00595755911003012],"x":[0,35,70,105,140,175,210,245,280,315,350,385,420,455,490,525,560,595,630,665,700,735,770,805,840,875,910,945,980,1015,1050,1085,1120,1155,1190,1225,1260,1295,1330,1365,1400,1435,1470,1505,1540,1575,1610,1645,1680,1715,1750,1785,1820,1855,1890,1925,1960,1995,2030,2065,2100,2135,2170,2205,2240,2275,2310,2345,2380,2415,2450,2485,2520,2555,2590,2625,2660,2695,2730,2765,2800,2835,2870,2905,2940]},"coffee maker":{"y":[0.0178675256607879,0.0192153323873193,0.0204909426476457,0.0216908514932547,0.0228115539756339,0.023849545146271,0.0248013200566535,0.0256633737582691,0.0264322013026053,0.0271042977411499,0.0276761581253903,0.0281417758725258,0.0284999882460348,0.0287592220134787,0.0289280436908648,0.0290150197942,0.0290287168394917,0.0289777013427468,0.0288705398199727,0.0287157987871764,0.028522044760365,0.0282372497605627,0.0276997795724856,0.0269389259399703,0.0259976672151924,0.0249189817503274,0.0237458478975511,0.0225212440090391,0.021288148436967,0.0200895395335105,0.0189683956508451,0.0179676951411466,0.0171246250085572,0.0163476900477858,0.0155929899694579,0.0148628240715512,0.0141594916520432,0.0134852920089117,0.0128425244401341,0.0122334882436881,0.0116604827175513,0.0111258071597013,0.0106319293197009,0.0102003269296544,0.00983729762438208,0.00953216613208377,0.00927425718095942,0.009052895499209,0.00885740581503244,0.0086771128566297,0.00850134135220072,0.00831941602994544,0.00812066161806382,0.0078944028447558,0.00764398458126791,0.00740801446609313,0.00718720324742337,0.00697890533550457,0.00678047514058265,0.00658926707290353,0.00640263554271316,0.00621793496025745,0.00603251973578233,0.00584374427953374,0.00565088695464225,0.00546333965672107,0.00528242140139615,0.00510773640938564,0.0049388889014077,0.00477548309818049,0.00461712322042214,0.00446341348885082,0.00431395812418468,0.00416836134714188,0.00402622737844056,0.00388716427608815,0.00375157682386511,0.0036200381501169,0.00349267948343864,0.00336963205242545,0.00325102708567245,0.00313699581177475,0.00302766945932747,0.00292317925692573,0.00282365643316465,0.00272923221663935],"x":[0,3.15,6.3,9.45,12.6,15.75,18.9,22.05,25.2,28.35,31.5,34.65,37.8,40.95,44.1,47.25,50.4,53.55,56.7,59.85,63,66.15,69.3,72.45,75.6,78.75,81.9,85.05,88.2,91.35,94.5,97.65,100.8,103.95,107.1,110.25,113.4,116.55,119.7,122.85,126,129.15,132.3,135.45,138.6,141.75,144.9,148.05,151.2,154.35,157.5,160.65,163.8,166.95,170.1,173.25,176.4,179.55,182.7,185.85,189,192.15,195.3,198.45,201.6,204.75,207.9,211.05,214.2,217.35,220.5,223.65,226.8,229.95,233.1,236.25,239.4,242.55,245.7,248.85,252,255.15,258.3,261.45,264.6,267.75]}},
	"ebay":{"coffee maker":{"x":[6.13004278238536,13.5222429639606,20.9144431455358,28.306643327111,35.6988435086862,43.0910436902614,50.4832438718366,57.8754440534118,65.2676442349871,72.6598444165623,80.0520445981375,87.4442447797127,94.8364449612879,102.228645142863,109.620845324438,117.013045506014,124.405245687589,131.797445869164,139.189646050739,146.581846232314,153.97404641389,161.366246595465,168.75844677704,176.150646958615,183.54284714019,190.935047321766,198.327247503341,205.719447684916,213.111647866491,220.503848048067,227.896048229642,235.288248411217,242.680448592792,250.072648774367,257.464848955943,264.857049137518,272.249249319093,279.641449500668,287.033649682243,294.425849863819,301.818050045394,309.210250226969,316.602450408544,323.994650590119,331.386850771695,338.77905095327,346.171251134845,353.56345131642,360.955651497996,368.347851679571,375.740051861146,383.132252042721,390.524452224296,397.916652405872,405.308852587447,412.701052769022,420.093252950597,427.485453132172,434.877653313748,442.269853495323,449.662053676898,457.054253858473,464.446454040048,471.838654221624,479.230854403199,486.623054584774,494.015254766349,501.407454947925,508.7996551295,516.191855311075,523.58405549265,530.976255674225,538.368455855801,545.760656037376,553.152856218951,560.545056400526,567.937256582101,575.329456763677,582.721656945252,590.113857126827,597.506057308402,604.898257489977,612.290457671553],"y":[0.0129105539473342,0.0163415070573576,0.0169474155422232,0.0153477644583103,0.0123905671797641,0.00985384641243964,0.00598763056410527,0.00539063618378783,0.00605677984174548,0.004301541355914,0.00342291611827979,0.00302700011371774,0.00272302066197504,0.0022965251636257,0.00161281374414458,0.00269167347170197,0.00210844447785642,0.00101014673061436,0.000392875557335725,8.68293252801364e-05,0.000536784533643167,0.00132178675750986,0.000720634092384118,0.00018848324716158,0.000363326270405419,0.000315358937524178,0.000387374668286862,0.000176763054610371,1.89697135782256e-05,1.53831525852003e-06,3.83120086590493e-06,2.40024283667983e-05,0.000196091071138808,0.000363131771284987,0.000107238137359786,2.15154149334736e-05,6.93208054464558e-06,3.9273460755383e-07,3.61566760327141e-09,4.52886525333254e-12,2.8800595186572e-10,1.9050956186219e-07,1.57347067663709e-05,0.000197610601648882,0.000361352867039323,9.78360312160376e-05,1.07267541790021e-05,8.81708967186314e-06,9.1565462786729e-06,5.28026138727278e-06,4.99383748844682e-07,7.19761958262107e-09,1.51585509198191e-11,3.62341237707451e-15,1.18566906816099e-19,1.64584694427583e-19,0,0,0,0,0,0,2.12116936899078e-15,8.2654165233433e-12,4.35899272553045e-09,3.81510328787848e-07,4.63375087002671e-06,8.39967564866661e-06,2.49590815905968e-06,3.94136583597615e-06,8.65028898728441e-06,2.82318658346268e-06,1.32941295007562e-07,9.65449536068702e-10,8.63166969459799e-13,1.77910762090811e-15,1.58436378005391e-11,1.71071676732773e-08,3.49868961506408e-06,9.19666640404474e-05,0.000354431531885541,0.000196292592337674,1.53854613458729e-05]},"headphones":{"x":[0.309881076714822,2.44710277004688,4.58432446337894,6.72154615671099,8.85876785004305,10.9959895433751,13.1332112367072,15.2704329300392,17.4076546233713,19.5448763167033,21.6820980100354,23.8193197033675,25.9565413966995,28.0937630900316,30.2309847833636,32.3682064766957,34.5054281700277,36.6426498633598,38.7798715566919,40.9170932500239,43.054314943356,45.191536636688,47.3287583300201,49.4659800233522,51.6032017166842,53.7404234100163,55.8776451033483,58.0148667966804,60.1520884900124,62.2893101833445,64.4265318766765,66.5637535700086,68.7009752633407,70.8381969566727,72.9754186500048,75.1126403433368,77.2498620366689,79.387083730001,81.524305423333,83.6615271166651,85.7987488099971,87.9359705033292,90.0731921966613,92.2104138899933,94.3476355833254,96.4848572766574,98.6220789699895,100.759300663322,102.896522356654,105.033744049986,107.170965743318,109.30818743665,111.445409129982,113.582630823314,115.719852516646,117.857074209978,119.99429590331,122.131517596642,124.268739289974,126.405960983306,128.543182676638,130.68040436997,132.817626063302,134.954847756634,137.092069449967,139.229291143299,141.366512836631,143.503734529963,145.640956223295,147.778177916627,149.915399609959,152.052621303291,154.189842996623,156.327064689955,158.464286383287,160.601508076619,162.738729769951,164.875951463283,167.013173156615,169.150394849947,171.287616543279],"y":[0.00568033183708005,0.0105056012326296,0.0159340404781438,0.0203562142756447,0.0228530260684831,0.0238212117165238,0.0241677618188975,0.0241910248993408,0.0236382662632246,0.022547907991741,0.0213946810235744,0.0204386266316792,0.0194134899161539,0.0179411320433319,0.0160769295243165,0.0144750603073017,0.0139378246886564,0.0144986847821006,0.0150347899419001,0.0142742426057651,0.012148435969932,0.00964091764530847,0.00753190139748695,0.00592253420200639,0.00476459026439798,0.00418898305378735,0.00424866271565936,0.00462863611033867,0.00483336100927861,0.00467450760680981,0.00437174681292189,0.00410518839398249,0.00374712261942721,0.00317036058982262,0.00252252577666442,0.00203728046495743,0.00176952317415122,0.00161666850144588,0.00148275649761275,0.00135146965508081,0.00123733537732643,0.00112077905801626,0.000963324105754151,0.00078137019167248,0.000661130733841498,0.000662615272008445,0.000726648514836693,0.000725190188713164,0.00060049341102688,0.000411637073196883,0.000251099909945759,0.000167689552098848,0.000176065015169867,0.000289863548793403,0.000495222311291433,0.00070302195829315,0.000786625703473329,0.00070354467406876,0.000545194188301623,0.000432768476853135,0.000394265686984171,0.000371871556030304,0.000318589730848912,0.000243202505773853,0.000173732527247018,0.00012039765732424,8.09695689616667e-05,5.7058104438942e-05,5.18768268150778e-05,5.94416261597466e-05,6.57752789969637e-05,6.30333820871657e-05,5.74230348660122e-05,5.83920881393497e-05,6.39459433298735e-05,6.27327546920471e-05,4.90950350714335e-05,2.94079727193042e-05,1.33139190669599e-05,4.53566432041222e-06,1.16588204738825e-06]},"laptop":{"x":[29.6687632747057,72.4527951901972,115.236827105689,158.02085902118,200.804890936672,243.588922852163,286.372954767655,329.156986683146,371.941018598637,414.725050514129,457.50908242962,500.293114345112,543.077146260603,585.861178176095,628.645210091586,671.429242007078,714.213273922569,756.997305838061,799.781337753552,842.565369669044,885.349401584535,928.133433500027,970.917465415518,1013.70149733101,1056.4855292465,1099.26956116199,1142.05359307748,1184.83762499298,1227.62165690847,1270.40568882396,1313.18972073945,1355.97375265494,1398.75778457043,1441.54181648592,1484.32584840142,1527.10988031691,1569.8939122324,1612.67794414789,1655.46197606338,1698.24600797887,1741.03003989436,1783.81407180986,1826.59810372535,1869.38213564084,1912.16616755633,1954.95019947182,1997.73423138731,2040.5182633028,2083.3022952183,2126.08632713379,2168.87035904928,2211.65439096477,2254.43842288026,2297.22245479575,2340.00648671124,2382.79051862674,2425.57455054223,2468.35858245772,2511.14261437321,2553.9266462887,2596.71067820419,2639.49471011968,2682.27874203518,2725.06277395067,2767.84680586616,2810.63083778165,2853.41486969714,2896.19890161263,2938.98293352813,2981.76696544362,3024.55099735911,3067.3350292746,3110.11906119009,3152.90309310558,3195.68712502107,3238.47115693657,3281.25518885206,3324.03922076755,3366.82325268304,3409.60728459853,3452.39131651402,3495.17534842951],"y":[0.00232873472166707,0.00283436907990485,0.00260925855088796,0.0022036816893827,0.0017614696107435,0.00135852694291421,0.0010917852825889,0.000929675013468576,0.000789267107083029,0.000646190960327762,0.000557555778718996,0.000525109422518793,0.000479158105338117,0.000399799412852613,0.000336819995776581,0.000308542366942719,0.000276664532879801,0.000246188521714041,0.000224069305639936,0.000194317561807167,0.000170823596341022,0.000154929799512454,0.000138395761645584,0.00011237132742466,9.57999276671283e-05,9.52999872574282e-05,8.98874757037273e-05,8.72839885160769e-05,7.94504693308612e-05,7.13036878780736e-05,6.66008614107538e-05,6.48204343306522e-05,6.92160451469239e-05,6.43328267681882e-05,5.00925600804143e-05,3.7214222778092e-05,3.16786601289107e-05,3.26113031612429e-05,3.61210980437798e-05,3.4057437051928e-05,2.27915636800701e-05,2.02611546456058e-05,2.5598389289178e-05,2.61667327671933e-05,2.04019570603844e-05,1.39983820420781e-05,1.46327780840876e-05,1.47411118561834e-05,8.8195757940511e-06,4.83790017586922e-06,4.03941279268764e-06,4.27640544157336e-06,5.40367039251844e-06,4.96398509072807e-06,2.56959413873784e-06,6.39942217122496e-07,6.95486259656049e-08,1.00508919099777e-08,1.24229029095434e-07,8.92123667554406e-07,2.62732503948248e-06,3.17196311129643e-06,1.84538605162762e-06,2.32256116409489e-06,5.5039091587176e-06,6.11821822899312e-06,2.8095845575921e-06,5.31228637422398e-07,4.16047346638794e-08,1.3466912423104e-09,1.74924289067462e-11,9.92252762621794e-12,7.34118120528836e-10,2.32114456261662e-08,2.89865373733738e-07,1.52972425105817e-06,3.50935701140582e-06,4.39485703108555e-06,4.15736964786113e-06,2.57504570962029e-06,7.55921304551427e-07,9.33541368631688e-08]},"watch":{"x":[232.850860913438,594.351319334673,955.851777755908,1317.35223617714,1678.85269459838,2040.35315301961,2401.85361144085,2763.35406986208,3124.85452828332,3486.35498670455,3847.85544512579,4209.35590354702,4570.85636196826,4932.35682038949,5293.85727881073,5655.35773723196,6016.8581956532,6378.35865407443,6739.85911249567,7101.3595709169,7462.86002933814,7824.36048775937,8185.86094618061,8547.36140460184,8908.86186302308,9270.36232144431,9631.86277986555,9993.36323828678,10354.863696708,10716.3641551293,11077.8646135505,11439.3650719717,11800.865530393,12162.3659888142,12523.8664472354,12885.3669056567,13246.8673640779,13608.3678224991,13969.8682809204,14331.3687393416,14692.8691977628,15054.3696561841,15415.8701146053,15777.3705730265,16138.8710314478,16500.371489869,16861.8719482902,17223.3724067115,17584.8728651327,17946.373323554,18307.8737819752,18669.3742403964,19030.8746988177,19392.3751572389,19753.8756156601,20115.3760740814,20476.8765325026,20838.3769909238,21199.8774493451,21561.3779077663,21922.8783661875,22284.3788246088,22645.87928303,23007.3797414512,23368.8801998725,23730.3806582937,24091.881116715,24453.3815751362,24814.8820335574,25176.3824919787,25537.8829503999,25899.3834088211,26260.8838672424,26622.3843256636,26983.8847840848,27345.3852425061,27706.8857009273,28068.3861593485,28429.8866177698,28791.387076191,29152.8875346122,29514.3879930335,29875.8884514547,30237.3889098759,30598.8893682972],"y":[0.0011260076126608,0.000149027400934386,6.53140295938935e-05,1.31524755978547e-05,1.22309999611877e-05,2.04005701732998e-05,7.30834311541794e-06,7.98410245520061e-06,6.38936762173958e-06,1.74669518859494e-05,7.02418362290355e-06,1.42985776396234e-06,7.38090254582049e-07,1.41821843149642e-07,1.11964911691936e-07,2.33025212288392e-06,1.96425927297012e-13,5.73564151275619e-07,2.27150647820653e-20,1.61648301741617e-20,1.2225013512171e-06,3.94747162420204e-06,1.20680059429629e-12,4.18069360683646e-06,1.72244199202806e-06,1.23085334866677e-19,9.56995574438601e-08,1.10641514482194e-19,1.09691992525629e-20,0,9.38213028219795e-21,2.70895501549726e-20,9.60948295130431e-08,0,0,3.12460932323443e-20,1.36850101334721e-21,8.40810378694632e-13,2.12323918841066e-12,7.0043099060053e-20,1.79349536800484e-20,6.39649193721212e-08,4.84796959963512e-20,3.06624644723126e-20,9.95513542244392e-21,3.78855112907586e-20,2.53541480408354e-20,4.1073304533501e-06,0,1.96250694832498e-06,5.11891369608213e-20,0,6.2437029657925e-21,1.40390996335851e-19,0,0,4.77267126815514e-20,0,0,2.61644948390335e-06,3.25896546689065e-20,5.1956835775942e-21,1.65496632598441e-06,4.63735251809386e-21,0,4.01692813834541e-20,0,6.25297737658035e-21,0,0,1.69232575977939e-20,0,2.95472478836451e-21,1.80533717288981e-20,3.83229230548215e-20,4.00333905518164e-20,0,3.39596286314643e-20,8.1780865908451e-21,2.27797951869704e-20,0,2.65907821101136e-20,1.19384241179396e-20,8.64555018683514e-21,2.27081521476669e-06]},"sweater":{"x":[1.34559299637255,3.77009382227262,6.19459464817268,8.61909547407275,11.0435962999728,13.4680971258729,15.8925979517729,18.317098777673,20.7415996035731,23.1661004294731,25.5906012553732,28.0151020812732,30.4396029071733,32.8641037330734,35.2886045589734,37.7131053848735,40.1376062107736,42.5621070366736,44.9866078625737,47.4111086884738,49.8356095143738,52.2601103402739,54.6846111661739,57.109111992074,59.5336128179741,61.9581136438741,64.3826144697742,66.8071152956743,69.2316161215743,71.6561169474744,74.0806177733745,76.5051185992745,78.9296194251746,81.3541202510746,83.7786210769747,86.2031219028748,88.6276227287748,91.0521235546749,93.476624380575,95.901125206475,98.3256260323751,100.750126858275,103.174627684175,105.599128510075,108.023629335975,110.448130161875,112.872630987775,115.297131813676,117.721632639576,120.146133465476,122.570634291376,124.995135117276,127.419635943176,129.844136769076,132.268637594976,134.693138420876,137.117639246776,139.542140072676,141.966640898576,144.391141724476,146.815642550376,149.240143376276,151.664644202176,154.089145028077,156.513645853977,158.938146679877,161.362647505777,163.787148331677,166.211649157577,168.636149983477,171.060650809377,173.485151635277,175.909652461177,178.334153287077,180.758654112977,183.183154938877,185.607655764777,188.032156590677,190.456657416577,192.881158242478,195.305659068378,197.730159894278],"y":[0.0232724851573945,0.0328927596354444,0.0368356740928055,0.0374553270754262,0.0336823391578169,0.0284209050522594,0.0264828658106769,0.0248590679404771,0.0199776988002303,0.0145120930037805,0.0116400546680459,0.0105599135090984,0.0101732411950655,0.00804550081451142,0.00531432172217013,0.00481915003427387,0.00523749729285902,0.00405221411353361,0.00288118147156377,0.00359774205202034,0.00448378157414519,0.00419962701980122,0.00368326381286546,0.00343863266249941,0.00353436640516211,0.00444842682195981,0.00462415994914172,0.00339267447280784,0.00220380672449032,0.00131790103677701,0.000495973795891865,0.000123754838672646,0.000183047578800337,0.00071640486198143,0.00148422720780242,0.00182930193321855,0.00169254122405949,0.00104992518932483,0.000338346831084917,5.02568246630461e-05,3.40279668174406e-06,1.05217063031492e-07,1.41842475763912e-07,4.45680703793142e-06,6.09916325357539e-05,0.000382143162653345,0.00105164768156725,0.00128579958546847,0.000700103418430382,0.000169289108019879,1.83284171249663e-05,8.52206753760585e-07,1.88756483682677e-08,1.66357120411689e-10,7.47186195709101e-13,1.37241791398202e-15,9.82420840169513e-19,0,0,0,0,0,0,1.18032431326796e-16,8.07002816847767e-14,2.58921998187555e-11,3.73454293556364e-09,2.25367954437146e-07,6.57593374711667e-06,8.09221772563144e-05,0.000453839779968969,0.00112551144280581,0.00124469780106842,0.000613812846595652,0.000136257648130462,4.82190517709785e-05,0.000262847149640588,0.000892126578485169,0.00134779805008258,0.000906158308346825,0.000271683242611023,0.000035972879127691]}}
};

var get_price_prior = function(object, prior_version) {
  return function() {
    var values = priors[prior_version][object]["x"];
    var probabilities = priors[prior_version][object]["y"];
    return values[discrete(probabilities)];
  }
}

var get_theta_prior = function(object, prior_version) {
  return function() {
    var values = priors[prior_version][object]["x"];
    return uniformDraw(values);
  }
}

var model = function(object, prior_version) {

  var price_prior = get_price_prior(object, prior_version);
  var theta_prior = get_theta_prior(object, prior_version);

  var utterancePrior = function() {
    var utterances = [ "nothing", "expensive"];
    var costs = [0, utterance_cost];
    var probabilities = map(function(cost) {Math.exp(- cost);}, costs);
    return utterances[discrete(probabilities)];
  }

  var meaning = function(utt,world) {
    return utt=="expensive"? world.price>world.theta :
           true
  }

  var literalListener = cache(function(utterance, inherited_theta) {
    Enumerate(function(){
      var world = {
        price: price_prior(),
        theta: inherited_theta
      }

      var m = meaning(utterance, world)
      factor(m?0:-Infinity)
      return world
    })
  })

  var speaker = cache(function(world) {
    Enumerate(function(){
      var utterance = utterancePrior()
      var L = literalListener(utterance, world.theta)
      factor(L.score([],world))
      return utterance
    })
  })

  var listener = function(utterance) {
    Enumerate(function(){
      var world = {
        price: price_prior(),
        theta: theta_prior()
      }
      var S = speaker(world)
      factor(S.score([],utterance))
      return world
    })
  }

  var getHist = function(dist) {
    var probs = map(function(label) {return Math.exp(dist.score([], label))}, dist.support([]));
    var pairList = zip(dist.support([]), probs);
    return pairList;
  }

  var getList = function(dist) {
  	map(function(bin) {
  		var price = bin[0].price;
  		var theta = bin[0].theta;
  		var probability = bin[1];
  		return [prior_version, object, price, theta, probability, utterance_cost, alpha];
  	}, dist)
  }

  return getList(getHist(listener("expensive")));

}

var objects = ["laptop", "watch", "coffee maker", "sweater", "headphones"];
var versions = ["ebay", "v4"];

map(function(obj) {
	map(function(prior_version) {
		simpleCSV.writeCSV(model(obj, prior_version),
			"model_output_" + prior_version + "_" +
			obj + "_cost" + utterance_cost + "_alpha" +
			alpha + ".csv");
	}, ["ebay", "v4"])
}, objects)

"success!!"